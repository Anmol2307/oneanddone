{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. #}
{% extends 'base/base.html' %}

{% set title = task.name %}

{% block content %}
<main class="billboard content-container">
  <h1>{{ task.name }}</h1>
  <div class="markdown">{{ task.instructions_html }}</div>
  <p>
    {% trans execution_time=task.execution_time %}
      Estimated time needed for completion: {{ execution_time }} minutes
    {% endtrans %}
  </p>

  <div class="actions-container">
  {% if not attempt %}
    <form method="post" action="{{ url('tasks.start', task.id) }}">
      {{ csrf() }}
      <button type="submit" class="button">{{ _('Get Started') }}</button>
    </form>
  {% else %}
    <div class="save">
      <a href="{{ url('users.profile.detail') }}" class="button" role="button">{{ _('Save for later') }}</a>
      <small>
        {{ _('Don\'t have time to finish this task right now? Come back later and finish it.') }}
      </small>
    </div>

    <form method="post" action="{{ url('tasks.abandon', task.id) }}">
      {{ csrf() }}
      <button type="submit" class="button-negative">{{ _('Abandon task') }}</button>
    </form>

    <form method="post" action="{{ url('tasks.finish', task.id) }}">
      {{ csrf() }}
      <button type="submit" class="button">{{ _('Complete task') }}</button>
    </form>
  {% endif %}
  </div>
</main>
{% endblock %}
